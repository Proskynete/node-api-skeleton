name: "‚úÖ TODO to Issue"

on:
  push:
    branches:
      - main
  workflow_dispatch: # Allow manual trigger

jobs:
  todo:
    name: Convert TODOs to Issues
    runs-on: ubuntu-latest
    permissions:
      issues: write
      contents: read
    steps:
      - name: üìö Checkout Repository
        uses: actions/checkout@v6

      - name: üîÑ Convert TODOs to Issues
        uses: alstr/todo-to-issue-action@v5
        with:
          INSERT_ISSUE_URLS: false
          ISSUE_TEMPLATE: |
            ## ‚úÖ Codebase TODO

            **File**: {{ url }}
            **Line**: {{ line }}

            ### Description
            {{ body }}

            ### Code Snippet
            ```{{ language }}
            {{ snippet }}
            ```

            ---
            *This issue was automatically created from a TODO comment in the code.*
          AUTO_ASSIGN: true
          IGNORE: |
            .github/workflows/todo-to-issue.yml
            node_modules/**
            dist/**
            build/**
            coverage/**
            docs/**
            *.md
            **/*.md
          IDENTIFIERS: '[{"name": "TODO", "labels": ["todo"]}, {"name": "FIXME", "labels": ["üêõ bug"]}, {"name": "HACK", "labels": ["tech-debt"]}]'
